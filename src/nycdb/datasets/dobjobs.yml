---
files:
  -
    url: https://data.cityofnewyork.us/api/views/ic3t-wcy2/rows.csv?accessType=DOWNLOAD
    dest: dobjobs.csv
  -
    url: https://data.cityofnewyork.us/api/views/w9ak-ipjd/rows.csv?accessType=DOWNLOAD
    dest: dob_now_jobs.csv
sql:
  - dobjobs/add_columns.sql
  - dobjobs/index.sql
index:
  - dobjobs/full_text.sql
schema:
  -
    table_name: dobjobs
    fields:
      Job: bigint
      Doc: smallint
      Borough: text
      House: text
      StreetName: text
      Block: text
      Lot: text
      Bin: char(7)
      JobType: text
      JobStatus: text
      JobStatusDescrp: text
      LatestActionDate: date
      BuildingType: text
      CommunityBoard: text
      Cluster: boolean
      Landmarked: boolean
      AdultEstab: boolean
      LoftBoard: boolean
      CityOwned: boolean
      Littlee: boolean
      PCFiled: boolean
      eFilingFiled: boolean
      Plumbing: boolean
      Mechanical: boolean
      Boiler: boolean
      FuelBurning: boolean
      FuelStorage: boolean
      Standpipe: boolean
      Sprinkler: boolean
      FireAlarm: boolean
      Equipment: boolean
      FireSuppression: boolean
      CurbCut: boolean
      Other: boolean
      OtherDescription: text
      ApplicantsFirstName: text
      ApplicantsLastName: text
      ApplicantProfessionalTitle: text
      ApplicantLicense: text
      ProfessionalCert: text
      PreFilingDate: date
      Paid: date
      FullyPaid: date
      Assigned: date
      Approved: date
      FullyPermitted: date
      InitialCost: bigint
      TotalEstFee: bigint
      FeeStatus: text
      ExistingZoningSqft: integer
      ProposedZoningSqft: integer
      HorizontalEnlrgmt: boolean
      VerticalEnlrgmt: boolean
      EnlargementSQFootage: integer
      StreetFrontage: integer
      ExistingNoofStories: integer
      ProposedNoofStories: integer
      ExistingHeight: integer
      ProposedHeight: integer
      ExistingDwellingUnits: integer
      ProposedDwellingUnits: integer
      ExistingOccupancy: text
      ProposedOccupancy: text
      SiteFill: text
      ZoningDist1: text
      ZoningDist2: text
      ZoningDist3: text
      SpecialDistrict1: text
      SpecialDistrict2: text
      OwnerType: text
      NonProfit: boolean
      OwnersFirstName: text
      OwnersLastName: text
      OwnersBusinessName: text
      OwnersHouseNumber: text
      OwnersHouseStreetName: text
      City: text
      State: text
      Zip: text
      OwnersPhone: text
      JobDescription: text
      DOBRunDate: date
      JOBS1NO: integer
      TotalConstructionFloorArea: integer
      WithdrawalFlag: smallint
      SignoffDate: date
      SpecialActionStatus: char(1)
      SpecialActionDate: date
      BuildingClass: text
      JobNoGoodCount: smallint
      GISLATITUDE: numeric
      GISLONGITUDE: numeric
      GISCOUNCILDISTRICT: smallint
      GISCENSUSTRACT: text
      GISNTANAME: text
      GISBIN: char(7)
      bbl: char(10)
      id: 'serial PRIMARY KEY'
  -
    table_name: dob_now_jobs
    fields:
      JobFilingNumber: text
      FilingStatus: text
      HouseNo: text
      StreetName: text
      Borough: text
      Block: integer
      LOT: integer
      Bin: char(7)
      CommmunityBoard: text
      WorkonFloor: text
      AptCondoNos: text
      ApplicantProfessionalTitle: text
      ApplicantLicense: text
      ApplicantFirstName: text
      ApplicantsMiddleInitial: text
      ApplicantLastName: text
      OwnersBusinessName: text
      OwnersStreetName: text
      City: text
      State: text
      Zip: char(5)
      FilingRepresentativeFirstName: text
      FilingRepresentativeMiddleInitial: numeric
      FilingRepresentativeLastName: text
      FilingRepresentativeBusinessName: text
      FilingRepresentativeStreetName: text
      FilingRepresentativeCity: text
      FilingRepresentativeState: text
      FilingRepresentativeZip: text
      SprinklerWorkType: bool
      PlumbingWorkType: bool
      InitialCost: numeric
      TotalConstructionFloorArea: numeric
      ReviewBuildingCode: text
      LittleE: text
      UnmappedCCOStreet: text
      RequestLegalization: text
      IncludesPermanentRemoval: text
      InCompliancewithNYCECC: bool
      ExemptfromNYCECC: bool
      BuildingType: text
      ExistingStories: numeric
      ExistingHeight: numeric
      ExistingDwellingUnits: numeric
      ProposedNoofStories: numeric
      ProposedHeight: numeric
      ProposedDwellingUnits: numeric
      SpecialInspectionRequirement: text
      SpecialInspectionAgencyNumber: text
      ProgressInspectionRequirement: text
      Built1informationvalue: text
      Built2informationvalue: text
      Built2Ainformationvalue: text
      Built2Binformationvalue: text
      Standpipe: bool
      Antenna: bool
      CurbCut: bool
      Sign: bool
      Fence: bool
      Scaffold: bool
      Shed: bool
      FilingDate: date
      CurrentStatusDate: date
      PermitIssueDate: date
      BoilerEquipmentWorkType: bool
      EarthWorkWorkType: bool
      FoundationWorkType: bool
      GeneralConstructionWorkType: bool
      MechanicalSystemsWorkType: bool
      PlaceofAssemblyWorkType: bool
      ProtectionMechanicalMethodsWorkType: bool
      SidewalkShedWorkType: bool
      StructuralWorkType: bool
      SupportofExcavationWorkType: bool
      TemporaryPlaceofAssemblyWorkType: bool
      JobType: text
      bbl: char(10)
    skip:
      - Latitude
      - Longitude
      - CouncilDistrict
      - CensusTract
      - NTA
      - BIN
